{
  "id": "mobile-backend-api",
  "name": "Mobile Backend API",
  "description": "API backend optimized for mobile applications with push notifications and offline sync",
  "category": "mobile_backend",
  "files": {
    "main.py": "from fastapi import FastAPI, Depends, HTTPException\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom datetime import datetime, timedelta\nfrom typing import Optional\n\napp = FastAPI(title=\"{{project_name}} Mobile API\")\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# In-memory storage (use database in production)\nsessions = {}\nsync_data = {}\n\n@app.get(\"/api/health\")\nasync def health():\n    return {\"status\": \"healthy\", \"timestamp\": datetime.utcnow().isoformat()}\n\n@app.post(\"/api/auth/login\")\nasync def login(email: str, password: str):\n    # Simplified auth (implement proper auth in production)\n    session_token = f\"session_{email}_{datetime.utcnow().timestamp()}\"\n    sessions[session_token] = {\n        \"email\": email,\n        \"created_at\": datetime.utcnow(),\n        \"expires_at\": datetime.utcnow() + timedelta(days=30)\n    }\n    return {\"token\": session_token, \"expires_in\": 2592000}\n\n@app.get(\"/api/sync\")\nasync def sync_data_endpoint(token: str, last_sync: Optional[str] = None):\n    if token not in sessions:\n        raise HTTPException(status_code=401, detail=\"Invalid token\")\n    \n    # Return data modified since last_sync\n    return {\n        \"data\": sync_data.get(token, []),\n        \"timestamp\": datetime.utcnow().isoformat()\n    }\n\n@app.post(\"/api/sync\")\nasync def upload_sync_data(token: str, data: dict):\n    if token not in sessions:\n        raise HTTPException(status_code=401, detail=\"Invalid token\")\n    \n    # Store sync data\n    if token not in sync_data:\n        sync_data[token] = []\n    sync_data[token].append({\n        \"data\": data,\n        \"timestamp\": datetime.utcnow().isoformat()\n    })\n    \n    return {\"status\": \"synced\", \"timestamp\": datetime.utcnow().isoformat()}\n\n@app.post(\"/api/push/register\")\nasync def register_push_token(token: str, device_token: str, platform: str):\n    if token not in sessions:\n        raise HTTPException(status_code=401, detail=\"Invalid token\")\n    \n    # Store device token for push notifications\n    return {\"status\": \"registered\"}\n",
    "requirements.txt": "fastapi==0.104.1\nuvicorn[standard]==0.24.0\npydantic==2.5.0\npython-jose[cryptography]==3.3.0\n",
    "README.md": "# {{project_name}}\n\n{{project_description}}\n\n## Features\n\n- Mobile-optimized API endpoints\n- Session-based authentication with long-lived tokens\n- Offline sync support\n- Push notification registration\n- Lightweight responses for mobile bandwidth\n\n## Setup\n\n1. Install dependencies:\n```bash\npip install -r requirements.txt\n```\n\n2. Run the API:\n```bash\nuvicorn main:app --host 0.0.0.0 --port 8000\n```\n\n## API Endpoints\n\n### Authentication\n- `POST /api/auth/login` - Login and get session token\n\n### Data Sync\n- `GET /api/sync?token=xxx&last_sync=timestamp` - Download data since last sync\n- `POST /api/sync` - Upload local changes\n\n### Push Notifications\n- `POST /api/push/register` - Register device for push notifications\n\n## Mobile Integration\n\n### iOS (Swift)\n```swift\nlet url = URL(string: \"http://localhost:8000/api/sync\")!\nvar request = URLRequest(url: url)\nrequest.setValue(token, forHTTPHeaderField: \"Authorization\")\n```\n\n### Android (Kotlin)\n```kotlin\nval client = OkHttpClient()\nval request = Request.Builder()\n    .url(\"http://localhost:8000/api/sync\")\n    .addHeader(\"Authorization\", token)\n    .build()\n```\n"
  },
  "required_vars": [
    "project_name"
  ],
  "optional_vars": [
    "project_description"
  ],
  "tech_stack": [
    "FastAPI",
    "JWT",
    "Push Notifications"
  ],
  "estimated_setup_time": 15,
  "complexity": "medium",
  "created_at": "2025-11-18T09:39:45.491486",
  "updated_at": "2025-11-18T09:39:45.491487",
  "author": "system",
  "version": "1.0.0",
  "tags": [
    "mobile",
    "api",
    "sync",
    "push"
  ]
}